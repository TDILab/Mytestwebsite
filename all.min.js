// gtm-head.js
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','G-SHM2X37S3H');

// custom.js
(function(){const e=document.getElementById("menu-toggle"),t=document.getElementById("collapsible-menu"),n=document.getElementById("menu-overlay"),o=document.getElementById("menu-close");function c(){t.style.display="none",n.style.display="none",e.setAttribute("aria-expanded","false"),document.body.style.overflow=""}e&&t&&n&&(e.addEventListener("click",function(){const o="block"===t.style.display;o?(c()):(t.style.display="block",n.style.display="block",e.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden")}),n.addEventListener("click",c),o&&o.addEventListener("click",c),t.querySelectorAll("a").forEach(function(e){e.addEventListener("click",c)}))})();window.addEventListener("load",function(){const e=document.getElementById("loader");e&&(e.style.opacity="0",setTimeout(()=>e.style.display="none",600))});(function(){var e=document.getElementById("tc-link"),t=document.getElementById("tc-modal"),n=null;e&&t&&e.addEventListener("click",function(o){o.preventDefault(),t.style.display="flex",n=document.getElementById("tc-close"),n&&(n.focus(),n.onclick=function(){t.style.display="none"}),t.onclick=function(e){e.target===t&&(t.style.display="none")},document.onkeydown=function(e){(e=e||window.event).key!=="Escape"&&e.key!=="Esc"||(t.style.display="none")}})})();const galleryToggle=document.getElementById("gallery-toggle"),galleryContent=document.getElementById("gallery-content"),galleryArrow=document.getElementById("gallery-arrow");galleryToggle&&galleryContent&&galleryArrow&&galleryToggle.addEventListener("click",function(){const e="true"===galleryToggle.getAttribute("aria-expanded");galleryToggle.setAttribute("aria-expanded",!e),e?(galleryContent.style.maxHeight="0",galleryContent.style.overflow="hidden",galleryArrow.style.transform="rotate(-90deg)"):(galleryContent.style.maxHeight="400px",galleryContent.style.overflow="auto",galleryArrow.style.transform="rotate(0deg)")});const servicesLink=document.querySelector(".dropbtn"),dropdownContent=document.querySelector(".dropdown-content");servicesLink&&dropdownContent&&servicesLink.addEventListener("click",function(e){e.preventDefault(),dropdownContent.style.display="block"===dropdownContent.style.display?dropdownContent.style.display="none":dropdownContent.style.display="block",document.addEventListener("click",function e(t){dropdownContent.contains(t.target)||t.target===servicesLink||(dropdownContent.style.display="none",document.removeEventListener("click",e))})});

// script.js
document.addEventListener("DOMContentLoaded",()=>{console.log("Website loaded!");const e=document.getElementById("contactForm");e&&e.addEventListener("submit",function(t){t.preventDefault();const n=e.elements.name.value,o=e.elements.email.value,c=e.elements.message.value,a=encodeURIComponent("Contact Request from "+n),d=encodeURIComponent("Name: "+n+"\nEmail: "+o+"\nMessage: "+c);window.open(`mailto:roboeyewizard@gmail.com?subject=${a}&body=${d}`),setTimeout(()=>e.reset(),500)});const t=document.querySelectorAll(".slider .slide");if(t.length>0){let e=0;setInterval(()=>{t[e].classList.remove("active"),e=(e+1)%t.length,t[e].classList.add("active")},3e3)}const n=document.getElementById("menu-toggle"),o=document.getElementById("collapsible-menu");if(n&&o){n.addEventListener("click",function(e){e.stopPropagation(),n.classList.toggle("active"),"flex"===o.style.display?o.style.display="none":o.style.display="flex"});var c=o.querySelectorAll("a");for(var a=0;a<c.length;a++)c[a].addEventListener("click",function(){o.style.display="none",n.classList.remove("active")});document.addEventListener("click",function(e){o.contains(e.target)||n.contains(e.target)||(o.style.display="none",n.classList.remove("active"))});var d=o.querySelectorAll(".dropbtn");d.forEach(function(e){e.addEventListener("click",function(t){var n=e.parentElement;n.classList.contains("dropdown")&&(t.preventDefault(),t.stopPropagation(),function(e){for(var t=e.parentElement.children,n=0;n<t.length;n++)t[n]!==e&&t[n].classList&&t[n].classList.contains("open")&&t[n].classList.remove("open")}(n),n.classList.toggle("open"))})}),document.addEventListener("click",function(e){o.querySelectorAll(".dropdown.open").forEach(function(e){e.classList.remove("open")})})}const r=document.querySelector(".collapsible-menu .dropbtn"),l=document.querySelector(".collapsible-menu .dropdown"),s=document.querySelector(".collapsible-menu .dropdown-content");r&&l&&s&&(r.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),l.classList.toggle("open")}),document.addEventListener("click",function(e){l.contains(e.target)||l.classList.remove("open")}),s.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){l.classList.remove("open")})}));!function(){var e=document.querySelectorAll(".footer-rating-review .star"),t=0;e.forEach(function(n,o){n.addEventListener("mouseenter",function(){e.forEach(function(e,t){e.classList.toggle("selected",t<=o)})}),n.addEventListener("mouseleave",function(){e.forEach(function(e,n){e.classList.toggle("selected",n<t)})}),n.addEventListener("click",function(){t=o+1,e.forEach(function(e,n){e.classList.toggle("selected",n<t)})})});var n=document.querySelector(".footer-rating-review .review-form"),o=document.querySelector(".footer-rating-review .review-input"),c=document.querySelector(".footer-rating-review .review-list");n&&o&&c&&n.addEventListener("submit",function(e){e.preventDefault();var n=o.value.trim();if(n){var a=document.createElement("div");a.textContent=(t?"â˜…".repeat(t)+" ":"")+n,c.prepend(a),o.value=""}})}()});
